<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Skytespill i byen</title>
<style>
       body {
           margin: 0;
           overflow: hidden;
           background-color: #87CEEB; /* Lys bl√• for solskinnsdag */
       }
       canvas {
           display: block;
       }
       #score {
           position: absolute;
           top: 10px;
           left: 10px;
           font-size: 24px;
           color: black;
       }
</style>
</head>
<body>
<div id="score">Poeng: 0</div>
<canvas id="gameCanvas"></canvas>
<script>
       const canvas = document.getElementById("gameCanvas");
       const ctx = canvas.getContext("2d");
       canvas.width = window.innerWidth;
       canvas.height = window.innerHeight;
       let score = 0;
       // Laste inn bilder
       const playerImage = new Image();
       playerImage.src = "https://example.com/player.png"; // Sett inn riktig URL for spillerens bilde
       const enemyImage = new Image();
       enemyImage.src = "https://example.com/enemy.png"; // Sett inn riktig URL for fiende-bildet
       const carImage = new Image();
       carImage.src = "https://example.com/car.png"; // Sett inn riktig URL for bil-bildet
       // Spillerens egenskaper
       const player = {
           x: canvas.width / 2,
           y: canvas.height - 100,
           width: 50,
           height: 50,
           speed: 5,
           image: playerImage
       };
       const bullets = [];
       const bulletSpeed = 7;
       const enemies = [];
       const enemySpeed = 2;
       const cars = [];
       const carSpeed = 3;
       // Lag fiende
       function createEnemy() {
           const enemy = {
               x: Math.random() * canvas.width,
               y: -50,
               width: 50,
               height: 50,
               speed: enemySpeed,
               image: enemyImage
           };
           enemies.push(enemy);
       }
       // Lag bil
       function createCar() {
           const car = {
               x: Math.random() * canvas.width,
               y: -100,
               width: 100,
               height: 50,
               speed: carSpeed,
               image: carImage
           };
           cars.push(car);
       }
       // Tegne spilleren
       function drawPlayer() {
           ctx.drawImage(player.image, player.x, player.y, player.width, player.height);
       }
       // Tegne kulene
       function drawBullets() {
           ctx.fillStyle = 'yellow';
           bullets.forEach(bullet => {
               ctx.fillRect(bullet.x, bullet.y, bullet.width, bullet.height);
           });
       }
       // Tegne fiendene
       function drawEnemies() {
           enemies.forEach(enemy => {
               ctx.drawImage(enemy.image, enemy.x, enemy.y, enemy.width, enemy.height);
           });
       }
       // Tegne bilene
       function drawCars() {
           cars.forEach(car => {
               ctx.drawImage(car.image, car.x, car.y, car.width, car.height);
           });
       }
       // Bevege kulene
       function moveBullets() {
           bullets.forEach(bullet => {
               bullet.y -= bulletSpeed;
           });
           // Fjerne kuler som er utenfor skjermen
           bullets.filter(bullet => bullet.y > 0);
       }
       // Bevege fiendene
       function moveEnemies() {
           enemies.forEach(enemy => {
               enemy.y += enemy.speed;
           });
           // Fjerne fiender som er utenfor skjermen
           enemies.filter(enemy => enemy.y < canvas.height);
       }
       // Bevege bilene
       function moveCars() {
           cars.forEach(car => {
               car.y += car.speed;
           });
           // Fjerne biler som er utenfor skjermen
           cars.filter(car => car.y < canvas.height);
       }
       // Kollisjonsdeteksjon
       function detectCollisions() {
           for (let i = 0; i < bullets.length; i++) {
               for (let j = 0; j < enemies.length; j++) {
                   if (bullets[i].x < enemies[j].x + enemies[j].width &&
                       bullets[i].x + bullets[i].width > enemies[j].x &&
                       bullets[i].y < enemies[j].y + enemies[j].height &&
                       bullets[i].y + bullets[i].height > enemies[j].y) {
                       // Kule treffer fiende
                       bullets.splice(i, 1);
                       enemies.splice(j, 1);
                       score += 10;
                       document.getElementById('score').textContent = `Poeng: ${score}`;
                       break;
                   }
               }
           }
           // Kollisjon med bilene
           for (let j = 0; j < cars.length; j++) {
               if (player.x < cars[j].x + cars[j].width &&
                   player.x + player.width > cars[j].x &&
                   player.y < cars[j].y + cars[j].height &&
                   player.y + player.height > cars[j].y) {
                   // Spilleren treffer en bil
                   alert('Game over! Du traff en bil!');
                   resetGame();
               }
           }
       }
       // Tilbakestille spillet
       function resetGame() {
           score = 0;
           document.getElementById('score').textContent = `Poeng: ${score}`;
           bullets.length = 0;
           enemies.length = 0;
           cars.length = 0;
       }
       // Oppdater spillet
       function update() {
           ctx.clearRect(0, 0, canvas.width, canvas.height);
           drawPlayer();
           drawBullets();
           drawEnemies();
           drawCars();
           moveBullets();
           moveEnemies();
           moveCars();
           detectCollisions();
           requestAnimationFrame(update);
       }
       // Spilleren kan bevege seg
       document.addEventListener("keydown", (e) => {
           if (e.key === "ArrowLeft" && player.x > 0) {
               player.x -= player.speed;
           } else if (e.key === "ArrowRight" && player.x < canvas.width - player.width) {
               player.x += player.speed;
           }
       });
       // Skytte
       document.addEventListener("keydown", (e) => {
           if (e.key === " ") {
               const bullet = {
                   x: player.x + player.width / 2 - 2.5,
                   y: player.y,
                   width: 5,
                   height: 10
               };
               bullets.push(bullet);
           }
       });
       // Lag fiender og biler regelmessig
       setInterval(createEnemy, 1000);
       setInterval(createCar, 2000);
       // Start spillet
       update();
</script>
</body>
</html>
